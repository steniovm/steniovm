<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta property="og:title" content="Gerador de Goblins" />
    <meta property="og:description" content='Gera Goblins para o RPG "Malditos Goblins"' />
    <meta property="og:locale" content="pt-br" />
    <meta property="description"
        content='Gera Goblins para o RPG "Malditos Goblins" sistema disponivel para download em https://coisinhaverde.com.br/jogos/portfolio/malditos-goblins/' />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Gera Goblins para o RPG "Malditos Goblins"</title>
    <style>
        body {
            background-color: #9FCFBF;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            max-width: 800px;
        }

        h1 {
            align-self: center;
        }

        #supermain {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap-reverse;
            width: 100%;
        }

        main {
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            width: 50%;
            justify-content: center;
            align-items: center;
        }

        section {
            display: flex;
            flex-direction: column;
        }

        b {
            font-size: xx-large;
        }

        footer {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        span {
            font-weight: bold;
            white-space: normal;
            padding: 0 2px;
        }

        .myimg {
            height: 12vh;
            min-height: 60px;
            padding: 1vh;
            ;
        }

        .divinfo {
            display: flex;
            flex-direction: column;
        }

        .entree {
            font-size: large;
            font-weight: bold;
        }

        input,
        button {
            min-width: 200px;
            border-radius: 20px;
            background-color: #eeb;
            text-align: center;
            width: fit-content;
        }

        #showdices {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            max-width: 175px;
        }

        .dice {
            background-color: #DDFFFF;
            width: 1.3em;
            height: 1.3em;
            border-radius: 50%;
            text-align: center;
        }

        table {
            margin: auto;
            background-color: black;
        }

        th {
            background-color: black;
            color: white;
        }

        td {
            background-color: #eee;
            color: black;
            text-align: center;
            max-width: 100px;
        }

        .tdselected {
            background-color: #afa;
        }

        #links {
            height: 20px;
            margin: auto;
            display: flex;
            flex-direction: column;
        }

        #sheet {
            display: grid;
            width: 360px;
            height: 230px;
            background-color: #efe;
            top: 70px;
            right: 5px;
            grid-template: repeat(11, 1fr)/repeat(4, 1fr);
            /*https://developer.mozilla.org/en-US/docs/Web/CSS/grid-area*/
        }

        #sheet>div {
            border: 1px solid black;
            display: flex;
        }

        #hsheet {
            grid-area: 1/1/1/5;
            text-align: center;
        }

        #divname {
            grid-area: 2/1/2/4;
        }

        #divlevel {
            grid-area: 2/4/2/5;
        }

        #divoccup {
            grid-area: 3/1/3/5;
        }

        #divchart {
            grid-area: 4/1/4/5;
        }

        #divcomb {
            grid-area: 5/1/5/3;
        }

        #divabilt {
            grid-area: 6/1/6/3;
        }

        #divnotion {
            grid-area: 7/1/7/3;
        }

        #divvital {
            grid-area: 8/1/8/3;
        }

        #divinjur {
            grid-area: 9/1/11/3;
        }

        #divequip {
            grid-area: 5/3/11/5;
            flex-direction: column;
        }

        #divspells {
            grid-area: 11/1/11/5;
        }

        .emphasis {
            background-color: black;
            height: 100%;
            color: #eee;
            margin: 0;
        }

        .shdata {
            font-weight: normal;
        }

        hr {
            width: 2px;
            height: 0.5em;
            margin: auto;
            background-color: black;
        }
    </style>
</head>

<body>
    <h1>Gerador de Goblins para o RPG "Malditos Goblins"</h1>
    <div id="supermain">
        <main>
            <section class="entree">
                <label>Jogador</label>
                <input type="text" id="playername" placeholder="Nome do jogador" value="Jogador" />
                <label>Última coisa que comeu</label>
                <input type="text" id="foodname" placeholder="Nome da comida" value="comida" />
            </section>
            <section class="entree">
                <label>Role dados</label>
                <button id="Rollbt">Rolar (6d6)</button>
            </section>
            <section class="entree">
                <div id="showdices">
                    <div class="dice"></div>
                    <div class="dice"></div>
                    <hr />
                    <div class="dice"></div>
                    <div class="dice"></div>
                    <hr />
                    <div class="dice"></div>
                    <div class="dice"></div>
                </div>
            </section>
        </main>
        <div id="sheet">
            <h3 id="hsheet" class="emphasis">FICHA DO GOBLIN</h3>
            <div id="divname">
                <span>Nome:</span>
                <span id="shname" class="shdata"></span>
            </div>
            <div id="divlevel">
                <span>Nível:</span>
                <span id="shlevel" class="shdata"></span>
            </div>
            <div id="divoccup">
                <span>Ocupação:</span>
                <span id="shoccup" class="shdata"></span>
            </div>
            <div id="divchart">
                <span>Característica:</span>
                <span id="shchart" class="shdata"></span>
            </div>
            <div id="divcomb">
                <span class="emphasis">Combate:</span>
                <span id="shcomb" class="shdata"></span>
            </div>
            <div id="divabilt">
                <span class="emphasis">Habilidade:</span>
                <span id="shabilt" class="shdata"></span>
            </div>
            <div id="divnotion">
                <span class="emphasis">Noção:</span>
                <span id="shnotion" class="shdata"></span>
            </div>
            <div id="divvital">
                <span class="emphasis">Vitalidade:</span>
                <span id="shvital" class="shdata"></span>
            </div>
            <div id="divinjur">
                <span>Ferimentos:</span>
                <span id="shinjur" class="shdata"></span>
            </div>
            <div id="divequip">
                <span>Equipamentos:</span>
                <span id="shequip" class="shdata"></span>
            </div>
            <div id="divspells">
                <span>Magias:</span>
                <span id="shspells" class="shdata"></span>
            </div>
        </div>
    </div>
    <section id="sectables">
        <h3>Nome do Goblin</h3>
        <table id="tablename">
            <tr>
                <th></th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
                <th>6</th>
            </tr>
            <tr>
                <th>1</th>
            </tr>
            <tr>
                <th>2</th>
            </tr>
            <tr>
                <th>3</th>
            </tr>
            <tr>
                <th>4</th>
            </tr>
            <tr>
                <th>5</th>
            </tr>
            <tr>
                <th>6</th>
            </tr>
        </table>
        <h3>Ocupação do Goblin</h3>
        <table id="tableoccup">
            <tr>
                <th></th>
                <th>OCUPAÇÃO</th>
                <th>DESCRITOR</th>
            </tr>
            <tr>
                <th>1</th>
            </tr>
            <tr>
                <th>2</th>
            </tr>
            <tr>
                <th>3</th>
            </tr>
            <tr>
                <th>4</th>
            </tr>
            <tr>
                <th>5</th>
            </tr>
            <tr>
                <th>6</th>
            </tr>
        </table>
        <h3>Característica do Goblin</h3>
        <table id="tablecharac">
            <tr>
                <th></th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
                <th>6</th>
            </tr>
            <tr>
                <th>1</th>
            </tr>
            <tr>
                <th>2</th>
            </tr>
            <tr>
                <th>3</th>
            </tr>
            <tr>
                <th>4</th>
            </tr>
            <tr>
                <th>5</th>
            </tr>
            <tr>
                <th>6</th>
            </tr>
        </table>
    </section>
    <div style="margin: auto;">
        Referente a publicação <a href="https://coisinhaverde.com.br/jogos/portfolio/malditos-goblins/"><em>Malditos
                Goblins</em></a> de <a href="https://coisinhaverde.com.br"><em>Coisinha Verde RPGs</em></a>
    </div>
    <a href="https://coisinhaverde.com.br"><img
            src="https://coisinhaverde.com.br/jogos/wp-content/uploads/2019/01/cropped-cropped-logo-1.png"
            alt="logo coisinha verde" /></a>
    <footer>
        <div id="divinfo" class="divinfo">
            <span>Autor:</span>
            <span>Stênio Vinicios de Medeiros</span>
            <span>Portifolio: <a href="https://steniovm.github.io/steniovm/"
                    alt="Meu portifolio de projetos">https://steniovm.github.io/steniovm/</a></span>
            <span>Email: <a href="mailto:steniovm@gmail.com" alt="Meu email">steniovm@gmail.com</a></span>
        </div>
    </footer>
    <div id="links">
        <img src="https://scisimulab.com.br/logo.svg" alt="logo SciSimuLab" style="height: 60px;" />
        Conheça também:
        <a href="https://guaxinimonline.onrender.com/" target="_blank">
            <i>Guaxinins & Gambiarras</i>
        </a>
        <a href="https://historias-incriveis.onrender.com/" target="_blank">
            <i>Histórias Incríveis</i>
        </a>
        <a href="https://scisimulab.com.br/" target="_blank">
            <i>Sci Simu Lab</i>
        </a>
        <a href="https://steniovm.github.io/steniovm/" target="_blank">
            <i>Outras produções minhas</i>
        </a>
    </div>
    <script type="text/javascript">
        //valores tabelados
        const namesvalues = [['Plaft', 'Plin', 'Tik', 'Tok', 'Bash', 'Cricri'],
        ['Glub', 'Tim', 'Ranço', 'Yhaa', 'Vrum', 'Aiaiai'],
        ['Crash', 'Zzzz', 'Sussa', 'Bibi', 'Boom', 'Bum'],
        ['Spray', 'Cringe', 'Sopa', 'Ovo', 'Ban', 'Nhack'],
        ['Bing', 'Riso', 'Slash', 'Coff', 'Ugh', 'Sniff'],
        ['Última coisa que comeu', 'Última coisa que comeu',
            'Última coisa que comeu', 'Inverta seu nome', 'Inverta seu nome', 'Inverta seu nome']
        ];
        const occupations = ['Mercenário', 'Caçador', 'Gatuno', 'Líder', 'Incendiário', 'Bruxo'];
        const descriptors = ['Covarde', 'Atrapalhado', 'Tapado', 'Fracote', 'Medíocre', 'Supimpa'];
        const characteristcs = [['Bomba-relógio', 'Minicabeça', 'Apêndice extra', 'Poros fedidos', 'Verdura', 'Role 2 vezes'],
        ['Cinzento', 'Cabeção', 'Orelha extra', 'Pintas', 'Minion', 'Fosforescente'],
        ['Amaldiçoado', 'Linguão', 'Nariz extra', 'Listras', 'Galináceo', 'Colorido'],
        ['Tom bélico', 'Olho gigante', 'Olhos extras', 'Pompom', 'Peixoso', 'Amarelo'],
        ['Flutulência', 'Pés gigantes', 'Braço extra', 'Chifre', 'Felino', 'Azul'],
        ['Role 2 vezes', 'Mão gigante', 'Cabeça extra', 'Cicatrizes', 'Aracnídeo', 'Vermelho']
        ]
        const equipaments = ["Espada e Escudo", "2 Machadinhas", "Machadão", "3 Adagas", "Arco de Caça", "Pistola e Chapéu", "Rapieira e Bronquel", "Espada e Medalhas de Guerra", "Lança e Elmo", "Espadona", "Barril de Pólvora", "Pistola e Galinha Explosiva", "Bacamarte e Chapéu", "Cajado", "Varinha e Cachecol", "Vassoura e Chapéu"];
        const spells = ["Fogo", "Gelo", "Relâmpago", "Troca", "Cura", "Morte", "Planta"]
        //elementos html
        const playername = document.getElementById('playername');
        const foodname = document.getElementById('foodname');
        const Rollbt = document.getElementById('Rollbt');
        const showdices = document.getElementById('showdices');
        const dicesshow = document.getElementsByClassName('dice');
        const tablenames = document.querySelectorAll('#tablename tr');
        const tableoccups = document.querySelectorAll('#tableoccup tr');
        const tablecharac = document.querySelectorAll('#tablecharac tr');
        //variaveis globais
        const goblin = { name: "", level: 1, occup: "", chart: "", combat: 2, ability: 2, notion: 2, vitality: 2, injuries: "", equip: "", spells: "" };
        let pname = "";
        let fname = "";
        dicerolls = [0, , , , , , ,];
        //eventos
        playername.addEventListener('change', () => {
            pname = playername.value;
        });
        foodname.addEventListener('change', () => {
            fname = foodname.value;
        });
        Rollbt.addEventListener('click', roolDices);
        //montagem de tabelas
        showNamesTable();
        function showNamesTable() {
            namesvalues.forEach((namel, i) => {
                namel.forEach((name, j) => {
                    let cell = document.createElement('td');
                    cell.innerText = name;
                    tablenames[i + 1].appendChild(cell);
                });
            });
        }
        showOccupTable();
        function showOccupTable() {
            let cello;
            let celld;
            for (let i = 0; i < 6; i++) {
                cello = document.createElement('td');
                celld = document.createElement('td');
                cello.innerText = occupations[i];
                celld.innerText = descriptors[i]
                tableoccups[i + 1].appendChild(cello);
                tableoccups[i + 1].appendChild(celld);
            }
        }
        showChartTable();
        function showChartTable() {
            characteristcs.forEach((chartl, i) => {
                chartl.forEach((chart, j) => {
                    let cell = document.createElement('td');
                    cell.innerText = chart;
                    tablecharac[i + 1].appendChild(cell);
                });
            });
        }
        //rolagem de dados
        function roolDices() {
            if (document.querySelectorAll('#showdices>*').length > 8) {
                while (document.querySelectorAll('#showdices>*').length > 8) {
                    document.querySelectorAll('#showdices>*')[8].remove();
                }
            }
            for (let i = 1; i < 7; i++) {
                dicerolls[i] = Math.ceil(Math.random() * 6);
                dicesshow[i - 1].innerHTML = dicerolls[i];
            }
            goblin.level = 1;
            goblin.combat = 2;
            goblin.ability = 2;
            goblin.notion = 2;
            goblin.vitality = 2;
            gnameRoll(dicerolls[1], dicerolls[2]);
            goccupRoll(dicerolls[3]);
            gdescRoll(dicerolls[4]);
            gchartRoll(dicerolls[5], dicerolls[6]);
            showgoblin();
            console.log(goblin);
        }
        //sorteia nome
        function gnameRoll(colt, rowt) {
            for (let i = 1; i < 7; i++) {
                for (let j = 1; j < 7; j++) {
                    tablenames[i].children[j].classList.remove('tdselected');
                }
            }
            if (rowt !== 6) {
                goblin.name = namesvalues[rowt - 1][colt - 1];
            } else {
                if (colt < 4) {
                    goblin.name = foodname.value.replace(/(^\w{1})|(\s+\w{1})/g, letra => letra.toUpperCase());
                } else {
                    goblin.name = playername.value.split("").reverse().join("").replace(/(^\w{1})|(\s+\w{1})/g, letra => letra.toUpperCase());
                }
            }
            tablenames[rowt].children[colt].classList.add('tdselected');
        }
        //sorteia ocupação
        function goccupRoll(index) {
            for (let i = 1; i < 7; i++) {
                tableoccups[i].children[1].classList.remove('tdselected');
            }
            goblin.occup = occupations[index - 1];
            tableoccups[index].children[1].classList.add('tdselected');
            goblin.spells = "";
            switch (index) {
                case 1:
                case 2:
                    goblin.combat += 1;
                    break;
                case 3:
                    goblin.ability += 1;
                    break;
                case 4:
                case 5:
                    goblin.vitality += 1;
                    break;
                case 6:
                    goblin.notion += 1;
                    gspellsRoll();
                    break
                default:
                    break;
            }
            gequipRoll(index);
        }
        //sorteia equipamento
        function gequipRoll(index) {
            const eq = Math.ceil(Math.random() * 3);
            switch (index) {
                case 1:
                    if (eq === 1) {
                        goblin.equip = equipaments[0];
                    } else if (eq === 2) {
                        goblin.equip = equipaments[1];
                    } else {
                        goblin.equip = equipaments[2];
                    }
                    break;
                case 2:
                    if (eq === 1) {
                        goblin.equip = equipaments[3];
                    } else if (eq === 2) {
                        goblin.equip = equipaments[4];
                    } else {
                        goblin.equip = equipaments[5];
                    }
                    break;
                case 3:
                    if (eq === 1) {
                        goblin.equip = equipaments[3];
                    } else if (eq === 2) {
                        goblin.equip = equipaments[6];
                    } else {
                        goblin.equip = equipaments[5];
                    }
                    break;
                case 4:
                    if (eq === 1) {
                        goblin.equip = equipaments[7];
                    } else if (eq === 2) {
                        goblin.equip = equipaments[8];
                    } else {
                        goblin.equip = equipaments[9];
                    }
                    break;
                case 5:
                    if (eq === 1) {
                        goblin.equip = equipaments[10];
                    } else if (eq === 2) {
                        goblin.equip = equipaments[11];
                    } else {
                        goblin.equip = equipaments[12];
                    }
                    break;
                case 6:
                    if (eq === 1) {
                        goblin.equip = equipaments[13];
                    } else if (eq === 2) {
                        goblin.equip = equipaments[14];
                    } else {
                        goblin.equip = equipaments[15];
                    }
                    break;
                default:
                    break;
            }
        }
        //sorteia magias
        function gspellsRoll() {
            let sp = [];
            spells.forEach(spell => sp.push(spell));
            let spselect = [];
            spselect.push(sp.splice(Math.floor(Math.random() * sp.length), 1));
            spselect.push(sp.splice(Math.floor(Math.random() * sp.length), 1));
            spselect.push(sp.splice(Math.floor(Math.random() * sp.length), 1));
            goblin.spells = spselect.join(",");
        }
        //sorteia descrição
        function gdescRoll(index) {
            for (let i = 1; i < 7; i++) {
                tableoccups[i].children[2].classList.remove('tdselected');
            }
            goblin.descriptors = descriptors[index - 1];
            tableoccups[index].children[2].classList.add('tdselected');
            switch (index) {
                case 1:
                    goblin.combat -= 1;
                    break;
                case 2:
                    goblin.ability -= 1;
                    break;
                case 3:
                    goblin.notion -= 1;
                    break;
                case 4:
                    goblin.vitality -= 1;
                    break;
                case 5:
                    break;
                case 6:
                    addAtrrRand(Math.ceil(Math.random() * 6));
                    break;
                default:
                    break;
            }
        }
        //incrementa um atributo
        function addAtrrRand(index) {
            switch (index) {
                case 1:
                    goblin.combat++;
                    break;
                case 2:
                    goblin.ability++;
                    break;
                case 3:
                    goblin.notion++;
                    break;
                case 4:
                    goblin.vitality++;
                    break;
                default:
                    break;
            }
        }
        //sorteia caracteristica
        function gchartRoll(colt, rowt, clear = true) {
            if (clear) {
                for (let i = 1; i < 7; i++) {
                    for (let j = 1; j < 7; j++) {
                        tablecharac[i].children[j].classList.remove('tdselected');
                    }
                }
                goblin.chart = "";
            } else {
                const newdice0 = document.createElement('hr');
                const newdice1 = document.createElement('div');
                const newdice2 = document.createElement('div');
                newdice1.classList.add('dice');
                newdice2.classList.add('dice');
                newdice1.innerText = colt;
                newdice2.innerText = rowt;
                showdices.appendChild(newdice0);
                showdices.appendChild(newdice1);
                showdices.appendChild(newdice2);
            }
            if ((colt === 1 && rowt == 6) || (colt === 6 && rowt == 1)) {
                gchartRoll(Math.ceil(Math.random() * 6), Math.ceil(Math.random() * 6), false);
                gchartRoll(Math.ceil(Math.random() * 6), Math.ceil(Math.random() * 6), false);
            } else {
                goblin.chart += characteristcs[rowt - 1][colt - 1];
                if (!clear) {
                    goblin.chart += ", ";
                }
            }
            tablecharac[rowt].children[colt].classList.add('tdselected');
        }
        function showgoblin() {
            document.getElementById("shname").innerHTML = goblin.name;
            document.getElementById("shlevel").innerHTML = goblin.level;
            document.getElementById("shoccup").innerHTML = goblin.occup;
            document.getElementById("shchart").innerHTML = goblin.chart;
            document.getElementById("shcomb").innerHTML = goblin.combat;
            document.getElementById("shabilt").innerHTML = goblin.ability;
            document.getElementById("shnotion").innerHTML = goblin.notion;
            document.getElementById("shvital").innerHTML = goblin.vitality;
            document.getElementById("shinjur").innerHTML = goblin.injuries;
            document.getElementById("shequip").innerHTML = goblin.equip;
            document.getElementById("shspells").innerHTML = goblin.spells;
        }
    </script>
</body>

</html>